apply plugin: 'groovy'

repositories {
  mavenCentral()
}

dependencies {
  groovy group: 'org.codehaus.groovy', name: 'groovy', version: '1.7.10'
  testCompile group: 'junit', name: 'junit', version: '4.8.2'
}

task initProject(description: 'Initialize project directory structure.') << {
  // Default package to be created in each src dir.
  def defaultPackage = 'com/k_int/JavaObjectDiff'
  ['java', 'groovy', 'resources'].each {

    // convention.sourceSets contains the directory structure
    // for our Groovy project. So we use this struture
    // and make a directory for each node.
    sourceSets.all."${it}".srcDirs*.each { dir ->
      def newDir = new File(dir, defaultPackage)
      logger.info "Creating directory $newDir"  // gradle -i shows this message.
      newDir.mkdirs()  // Create dir.
    }
  }
}
